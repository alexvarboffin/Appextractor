# AppExtractor Features

## Основной функционал
- Извлечение APK файлов установленных приложений
- Просмотр манифеста приложений
- Анализ компонентов приложений (активности, сервисы, ресиверы, провайдеры)
- Просмотр ресурсов приложений (строки, изображения)
- Возможность запуска компонентов приложений
- Копирование APK файлов
- Улучшенная система анализа разрешений:
  - Категоризация разрешений по типам (личные данные, местоположение, хранилище и т.д.)
  - Уровни безопасности для каждой категории (высокий, средний, низкий)
  - Подробные описания для стандартных разрешений
  - Рекомендации по безопасности для каждого типа разрешений
  - Визуальное отображение статуса разрешений
  - Группировка разрешений по категориям с цветовой индикацией

## Интерфейс
- Material Design 3
- TabLayout для навигации
- CollapsingToolbarLayout для детальной информации
- Поддержка темной/светлой темы
- Адаптивный дизайн
- ✅ Добавлены кнопки быстрых действий в AppListItem:
  - Поделиться APK
  - Информация о приложении

## Интеграции
- Google Drive backup
- Dropbox backup
- Google AdMob
- Firebase Crashlytics

## Безопасность
- Система разрешений Android
- FileProvider для обмена файлами
- Безопасное хранение токенов

## Технический стек
- Kotlin
- Clean Architecture
- MVP pattern
- Jetpack Compose
- Coroutines
- Material3 API

## Миграция на Compose (в процессе)
- ✅ Создана базовая структура Compose модуля
- ✅ Настроена навигация между экранами
- ✅ Реализован главный экран со списком приложений
- ✅ Реализован экран детальной информации о приложении
- ✅ Реализован экран просмотра манифеста
- ✅ Реализован экран просмотра ресурсов
- ⏳ Предстоит: интеграция с существующими сервисами
- ⏳ Предстоит: реализация функционала извлечения APK

# Функциональность приложения

## Основной интерфейс
- ✅ Реализован главный экран с тремя вкладками (Applications, Settings, Log)
- ✅ Реализован список приложений с основной информацией
- ✅ Добавлено контекстное меню для каждого приложения со следующими опциями:
  - Запуск приложения
  - Информация о приложении
  - Извлечение APK
  - Резервное копирование приложения
  - Поделиться APK
  - Просмотр манифеста
  - Просмотр ресурсов
  - Просмотр активностей
  - Отключить (для системных приложений)
  - Принудительная остановка (для системных приложений)
  - Удалить (для пользовательских приложений)
- ✅ Добавлено меню в верхней панели с функциями:
  - Поиск
  - Сортировка (по имени, дате установки, размеру)
  - Фильтрация (системные/пользовательские приложения)
  - Дополнительные действия (обновить, выбрать все, резервное копирование, поделиться)

## Детальная информация
- ✅ Реализован экран детальной информации о приложении
- ✅ Реализован просмотр манифеста
- ✅ Реализован просмотр ресурсов

## Ожидает реализации
- [ ] Интеграция с существующими сервисами
- [ ] Реализация функционала извлечения APK
- [ ] Реализация действий контекстного меню:
  - [ ] Запуск приложения
  - [ ] Открытие информации о приложении
  - [ ] Извлечение APK
  - [ ] Резервное копирование
  - [ ] Отправка APK
  - [ ] Быстрый переход к манифесту
  - [ ] Быстрый переход к ресурсам
  - [ ] Просмотр списка активностей
  - [ ] Отключение системных приложений
  - [ ] Принудительная остановка
  - [ ] Удаление приложений
- [ ] Реализация поиска
- [ ] Реализация сортировки
- [ ] Реализация фильтрации
- [ ] Реализация вкладки Settings
- [ ] Реализация вкладки Log

## Функциональность приложения

### Действия с приложениями
- ✅ Извлечение APK
- ✅ Отправка APK
- ✅ Открытие информации о приложении
- ✅ Открытие в Play Store
- ✅ Запуск приложения
- ✅ Удаление приложения
- ✅ Копирование имени пакета
- ⏳ Просмотр манифеста
- ✅ Сохранение иконки
- ✅ Отправка иконки

# Список фич и изменений

## Базовая структура
- Создана MainActivity с поддержкой Jetpack Compose
- Добавлен HorizontalPager для навигации между экранами
- Настроено сохранение экрана включенным (WakeLock)
- Созданы базовые экраны: ExtractorScreen, LogScreen, SettingsScreen
- Добавлена навигация через TabRow с анимацией переключения

## Интерфейс
- Базовая структура Material3 Theme
- Подготовлена структура для 3 основных экранов
- Реализован TabRow с индикаторами текущей вкладки
- Добавлена плавная анимация переключения между экранами

## ExtractorScreen
- Создана модель данных AppModel
- Реализован ExtractorViewModel для управления состоянием
- Добавлен поиск приложений с фильтрацией
- Создан компонент AppListItem для отображения информации о приложении
- Реализован список установленных приложений с поддержкой поиска
- Добавлен индикатор загрузки
- Добавлено меню действий для каждого приложения
- Реализован функционал извлечения APK с прогрессом
- Добавлена функция поделиться APK
- Добавлен переход к информации о приложении
- Реализована обработка разрешений для Android 13+
- Интеграция с PackageMeta из модуля extractor
- Поддержка Split APKs
- Определение Certificate Pinning
- Отображение размера APK
- Категоризация приложений (Android 8.0+)

## LogScreen
- Создана модель данных LogModel
- Реализован LogViewModel для управления состоянием
- Создан компонент LogItem для отображения логов и файлов
- Реализован список извлеченных APK файлов
- Добавлена возможность удаления файлов
- Добавлена функция обновления списка
- Добавлена функция очистки логов
- Реализовано форматирование размера файлов и дат
- Добавлен индикатор загрузки
- Добавлены системные сообщения об ошибках
- Индикация типов логов (Info, Warning, Error, Success)

## SettingsScreen
- Настройки хранения:
  - Включение/отключение Google Drive backup
  - Включение/отключение Dropbox backup
- Настройки Telegram:
  - Включение/отключение отправки в Telegram
  - Настройка Bot Token
  - Настройка Chat ID
- Информация о приложении:
  - Отображение версии
  - Отображение имени приложения
  - Описание функционала

## Планируемые улучшения
- Портировать функционал SettingsPreferenceFragment
- Реализовать CollapsingToolbar
- Добавить поддержку тёмной темы
- Интегрировать зависимости из модуля extractor
- Интеграция с Google Drive API
- Интеграция с Dropbox API
- Интеграция с Telegram Bot API
- Добавление CollapsingToolbar
- Поддержка темной темы
- Интеграция дополнительных функций из модуля extractor

## Улучшение интерфейса:
- Добавлена система частиц
- Добавлены разделители между элементами списка приложений
  - Горизонтальные отступы 16.dp
  - Цвет из MaterialTheme.colorScheme.outlineVariant
  - Толщина 1.dp

## Улучшение интерфейса разрешений
- Добавлены уровни безопасности (HIGH, MEDIUM, LOW) для категорий разрешений
- Добавлены цветовые индикаторы для разных уровней безопасности
- Улучшено отображение статуса разрешений (предоставлено/отклонено)
- Добавлены рекомендации по безопасности для каждого разрешения
- Добавлены иконки для разных категорий разрешений
- Добавлены подробные описания для стандартных разрешений Android
- ✅ Добавлена интерактивная иконка замка для отображения уровня защиты:
  - Открытый/закрытый замок в зависимости от статуса разрешения
  - Цветовая индикация уровня защиты (красный - опасный, синий - подписанный, серый - обычный)
  - При клике показывается детальная информация о статусе разрешения
  - Отображение уровня защиты в числовом формате

## Категории разрешений
- Личные данные (HIGH)
- Местоположение (HIGH)
- Хранилище (MEDIUM)
- Камера и микрофон (HIGH)
- Телефон (HIGH)
- Сеть (MEDIUM)
- Bluetooth (MEDIUM)
- Уведомления (LOW)
- Система (HIGH)
- Прочее (LOW)

## Улучшение UX
- Добавлены карточки с информацией о разрешениях
- Реализована группировка разрешений по категориям
- Добавлены расширяемые секции для каждой категории
- Улучшена читаемость информации о разрешениях

## Безопасность
- Добавлена система оценки уровня опасности разрешений
- Добавлены рекомендации по предоставлению разрешений
- Улучшена визуализация уровней безопасности через цветовое кодирование 